(this.webpackJsonpnba=this.webpackJsonpnba||[]).push([[0],{49:function(e,t,a){e.exports=a(59)},54:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),c=a.n(i);a(54),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(23),o=a.n(l),u=a(13),s=a(30),d=a(101),m=a(38),f=a(95),p=a(3),h=a(97),b=a(92),g=a(10),v=Object(b.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(g.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),E=function(e){var t=e.numSelected,a=e.title,n=void 0===a?"Teams":a,i=v();return r.a.createElement(f.a,{className:Object(p.a)(i.root,Object(m.a)({},i.highlight,t>0))},t>0?r.a.createElement(h.a,{className:i.title,color:"inherit",variant:"subtitle1",component:"div"},t," selected"):r.a.createElement(h.a,{className:i.title,variant:"h6",id:"tableTitle",component:"div"},n))},y=a(102),w=a(103),j=a(98),O=a(99),k=a(100),_=a(107);function N(e){var t=e.classes,a=e.order,n=e.orderBy,i=e.onRequestSort;return r.a.createElement(j.a,null,r.a.createElement(O.a,null,e.headCells.map((function(e){return r.a.createElement(k.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(_.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(c=e.id,function(e){i(e,c)})},r.a.createElement("b",null,e.label),n===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var c}))))}var x=a(104),C=a(105),P={FIVE:5,TEN:10,THIRTY:30,ONE_HUNDRED:100,FIVE_HUNDRED:500},S=Object(b.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function T(e){var t=e.orderBy,a=e.rows,n=e.keyProp,i=e.headCells,c=e.title,l=S(),o=r.a.useState("desc"),s=Object(u.a)(o,2),m=s[0],f=s[1],p=r.a.useState(t),h=Object(u.a)(p,2),b=h[0],g=h[1],v=r.a.useState(0),j=Object(u.a)(v,2),_=j[0],T=j[1],R=r.a.useState(!1),B=Object(u.a)(R,1)[0],I=r.a.useState(P.THIRTY),H=Object(u.a)(I,2),W=H[0],D=H[1],V=W-Math.min(W,a.length-_*W);return r.a.createElement("div",{className:l.root},r.a.createElement(d.a,{className:l.paper},r.a.createElement(E,{title:c}),r.a.createElement(y.a,null,r.a.createElement(w.a,{className:l.table,"aria-labelledby":"tableTitle",size:B?"small":"medium","aria-label":"enhanced table"},r.a.createElement(N,{classes:l,order:m,orderBy:b,onRequestSort:function(e,t){f(b===t&&"asc"===m?"desc":"asc"),g(t)},rowCount:a.length,headCells:i}),r.a.createElement(x.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(a,function(e,t){return"desc"===e?function(e,a){return M(e,a,t)}:function(e,a){return-M(e,a,t)}}(m,b)).slice(_*W,_*W+W).map((function(e){return r.a.createElement(O.a,{hover:!0,tabIndex:-1,key:e[n]},i.map((function(t,a){return r.a.createElement(k.a,{key:a},e[t.id])})))})),V>0&&r.a.createElement(O.a,{style:{height:(B?33:53)*V}},r.a.createElement(k.a,{colSpan:6}))))),r.a.createElement(C.a,{rowsPerPageOptions:Object.values(P),component:"div",count:a.length,rowsPerPage:W,page:_,onChangePage:function(e,t){T(t)},onChangeRowsPerPage:function(e){D(parseInt(e.target.value,10)),T(0)}})))}function M(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var R="https://ratings-2k-be-tumozo4dqa-ts.a.run.app",B=function(e){return fetch(e).then((function(e){return e.json()}))},I=function(){return B("".concat(R,"/api/team"))},H=function(){return B("".concat(R,"/api/player"))};function W(e,t){return function(e,t,a,n){var r=Object.values(a).map((function(e){return e[n]})),i=Math.max.apply(Math,r),c=Math.min.apply(Math,r);Object.values(a).forEach((function(a){var r=(t-e)*(a[n]-c)/(i-c)+e,l=Math.round(10*r)/10;a[n]=l}))}(55,99,e,t)}function D(){return(D=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return t=e.sent,Object.values(t).forEach((function(e){return e.winEfficiency=e.wins/e.expectedQuality19_20})),Object.keys(t).forEach((function(e){return t[e].team=e})),W(t,"winEfficiency"),W(t,"expectedQuality19_20"),W(t,"rating2k"),e.abrupt("return",Object.values(t));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=[{id:"team",label:"Team"},{id:"winEfficiency",label:"Win Efficiency"},{id:"expectedQuality19_20",label:"Expected 2019-20 success"},{id:"wins",label:"Wins"},{id:"rating2k",label:"Current Rating"}];function q(){var e=r.a.useState(void 0),t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){(function(){return D.apply(this,arguments)})().then((function(e){return n(e)}))}),[]),a?r.a.createElement(T,{orderBy:"winEfficiency",keyProp:"team",rows:a,headCells:V}):r.a.createElement("h1",null,"Loading")}function F(){return(F=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return t=e.sent,Object.values(t).forEach((function(e){var t=e.teamsMinutes.find((function(t){return t.teamName===e.teamName}));e.minutes=void 0!==t?t.minutes:0,e.value19_20=Math.pow(e.rating,8)*e.minutes})),W(t,"value19_20"),e.abrupt("return",Object.values(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=[{id:"name",label:"Name"},{id:"rating",label:"2k Rating"},{id:"teamName",label:"Team"},{id:"value19_20",label:"2019-20 Value For Team"},{id:"minutes",label:"Minutes for team"}];function Q(){var e=r.a.useState(void 0),t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){(function(){return F.apply(this,arguments)})().then(n)}),[]),a?r.a.createElement(T,{orderBy:"rating",keyProp:"nameName",rows:a,headCells:L,title:"Players"}):r.a.createElement("h1",null,"Loading")}var z={width:"50%",minWidth:"700px"},J=function(){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:z},r.a.createElement(q,null)),r.a.createElement("div",{style:z},r.a.createElement(Q,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root"));var U=parent.document.createElement("link");U.type="image/x-icon",U.rel="shortcut icon",U.href="https://www.newstatesman.com/sites/default/files/styles/cropped_article_image/public/blogs_2017/08/rehost_2f2016_2f9_2f13_2f1b5cb41f-6c9f-4862-ae3a-107fd32008ab_1_.jpg?itok=3V2At_67",parent.document.getElementsByTagName("head")[0].appendChild(U),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.e550f07f.chunk.js.map